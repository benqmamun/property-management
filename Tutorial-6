Table
---------
CREATE TABLE "PM_CUSTOMER" 
   (	"CUSTOMER_NO" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"CUSTOMER_ID" VARCHAR2(50) NOT NULL ENABLE, 
	"CUSTTYPE_NO" NUMBER(10,0), 
	"CUSTOMER_NAME" VARCHAR2(100) NOT NULL ENABLE, 
	"ADDR1" VARCHAR2(200), 
	"ADDR2" VARCHAR2(200), 
	"MOBILE" VARCHAR2(100), 
	"PHONE1" VARCHAR2(100), 
	"E_MAIL" VARCHAR2(100), 
	"CONTACT_PERSON" VARCHAR2(100), 
	"ACTIVE_STAT" NUMBER(1,0) DEFAULT 1, 
	"SS_CREATOR" NUMBER(30,0), 
	"SS_CREATED_ON" VARCHAR2(50), 
	"SS_MODIFIER" NUMBER(30,0), 
	"SS_MODIFIED_ON" VARCHAR2(50), 
	 CHECK (ACTIVE_STAT IN (0, 1)) ENABLE, 
	 PRIMARY KEY ("CUSTOMER_NO")
  USING INDEX  ENABLE, 
	 UNIQUE ("CUSTOMER_ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "UQ_PM_CUSTOMER_NAME_ADDR" UNIQUE ("CUSTOMER_NAME", "ADDR1")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "PM_CUSTOMER" ADD CONSTRAINT "FK_PM_CUSTOMER_CUSTTYPE" FOREIGN KEY ("CUSTTYPE_NO")
	  REFERENCES "PM_CUSTTYPE" ("CUSTTYPE_NO") ON DELETE SET NULL ENABLE;

Trigger
---------
CREATE OR REPLACE EDITIONABLE TRIGGER "TRG_PM_CUSTOMER_ID_GEN" 
BEFORE INSERT ON PM_CUSTOMER
FOR EACH ROW
 WHEN (NEW.CUSTOMER_ID IS NULL) DECLARE
  v_max_id NUMBER;
BEGIN
  -- Get the numeric part of the max CUSTOMER_ID
  SELECT NVL(MAX(TO_NUMBER(SUBSTR(CUSTOMER_ID, 5))), 0)
    INTO v_max_id
    FROM PM_CUSTOMER
   WHERE REGEXP_LIKE(CUSTOMER_ID, '^CUST[0-9]+$');

  -- Assign new ID with prefix CUST
  :NEW.CUSTOMER_ID := 'CUST' || LPAD(v_max_id + 1, 5, '0');
END;
/
ALTER TRIGGER "TRG_PM_CUSTOMER_ID_GEN" ENABLE;
